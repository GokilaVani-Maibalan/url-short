{"ast":null,"code":"var _jsxFileName = \"D:\\\\url-short\\\\client\\\\src\\\\ShortenPage\\\\Shorten.js\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Table from \"./Table\";\nimport \"./Shorten.css\";\nimport UserInput from \"./UserInput\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Shorten = () => {\n  _s();\n  const [longUrl, setLongUrl] = useState(\"\");\n  const [urls, setUrls] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [isReqSent, setIsReqSent] = useState(false);\n  let url = \"https://rg-url-shortener-server.herokuapp.com\";\n\n  //Initial rendering\n  useEffect(() => {\n    try {\n      setLoading(true);\n      axios.get(`${url}/urls/all-urls`).then(response => {\n        if (response.data.message) {\n          alert(response.data.message);\n        } else {\n          setUrls(response.data);\n          setLoading(false);\n        }\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }, []);\n\n  //rerender on new URL creation and URL click\n  useEffect(() => {\n    try {\n      setLoading(true);\n      axios.get(`${url}/urls/all-urls`).then(response => {\n        if (response.data.message) {\n          alert(response.data.message);\n        } else {\n          setUrls(response.data);\n          setLoading(false);\n          setIsReqSent(false);\n        }\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }, [isReqSent]);\n\n  //On input change\n  const handleChange = e => {\n    setLongUrl(e.target.value);\n  };\n\n  //On shorten button click\n  const handleClick = () => {\n    if (longUrl !== \"\") {\n      setLongUrl(\"\");\n      try {\n        axios.post(`${url}/urls/shorten`, {\n          longUrl\n        }).then(response => {\n          if (!response.data.error) {\n            setIsReqSent(true);\n          } else {\n            alert(\"Something went wrong! Please try after some time\");\n          }\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    } else {\n      alert(\"Please enter URL\");\n    }\n  };\n\n  //On URL click\n  const handleUrlClick = () => {\n    setIsReqSent(true);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"shorten-heading\",\n      children: \"URL Shortner\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container \",\n      children: [/*#__PURE__*/_jsxDEV(UserInput, {\n        handleChange: handleChange,\n        longUrl: longUrl,\n        handleClick: handleClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        loading: loading,\n        handleUrlClick: handleUrlClick,\n        urls: urls\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/homepage\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn1 btn-success\",\n          children: \"Back to homepage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn2 btn-danger\",\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n_s(Shorten, \"CWx1rggeSnW5mstDWXX/gM6XhPc=\");\n_c = Shorten;\nexport default Shorten;\nvar _c;\n$RefreshReg$(_c, \"Shorten\");","map":{"version":3,"names":["axios","React","useEffect","useState","Link","Table","UserInput","jsxDEV","_jsxDEV","Shorten","_s","longUrl","setLongUrl","urls","setUrls","loading","setLoading","isReqSent","setIsReqSent","url","get","then","response","data","message","alert","error","console","log","handleChange","e","target","value","handleClick","post","handleUrlClick","children","className","fileName","_jsxFileName","lineNumber","columnNumber","to","type","_c","$RefreshReg$"],"sources":["D:/url-short/client/src/ShortenPage/Shorten.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Table from \"./Table\";\r\nimport \"./Shorten.css\";\r\nimport UserInput from \"./UserInput\";\r\n\r\nconst Shorten = () => {\r\n  const [longUrl, setLongUrl] = useState(\"\");\r\n  const [urls, setUrls] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [isReqSent, setIsReqSent] = useState(false);\r\n  let url = \"https://rg-url-shortener-server.herokuapp.com\";\r\n\r\n  //Initial rendering\r\n  useEffect(() => {\r\n    try {\r\n      setLoading(true);\r\n      axios.get(`${url}/urls/all-urls`).then((response) => {\r\n        if (response.data.message) {\r\n          alert(response.data.message);\r\n        } else {\r\n          setUrls(response.data);\r\n          setLoading(false);\r\n        }\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }, []);\r\n\r\n  //rerender on new URL creation and URL click\r\n  useEffect(() => {\r\n    try {\r\n      setLoading(true);\r\n      axios.get(`${url}/urls/all-urls`).then((response) => {\r\n        if (response.data.message) {\r\n          alert(response.data.message);\r\n        } else {\r\n          setUrls(response.data);\r\n          setLoading(false);\r\n          setIsReqSent(false);\r\n        }\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }, [isReqSent]);\r\n\r\n  //On input change\r\n  const handleChange = (e) => {\r\n    setLongUrl(e.target.value);\r\n  };\r\n\r\n  //On shorten button click\r\n  const handleClick = () => {\r\n    if (longUrl !== \"\") {\r\n      setLongUrl(\"\");\r\n      try {\r\n        axios.post(`${url}/urls/shorten`, { longUrl }).then((response) => {\r\n          if (!response.data.error) {\r\n            setIsReqSent(true);\r\n          } else {\r\n            alert(\"Something went wrong! Please try after some time\");\r\n          }\r\n        });\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    } else {\r\n      alert(\"Please enter URL\");\r\n    }\r\n  };\r\n\r\n  //On URL click\r\n  const handleUrlClick = () => {\r\n    setIsReqSent(true);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"shorten-heading\">URL Shortner</h2>\r\n\r\n      <div className=\"container \">\r\n        <UserInput\r\n          handleChange={handleChange}\r\n          longUrl={longUrl}\r\n          handleClick={handleClick}\r\n        />\r\n        <Table loading={loading} handleUrlClick={handleUrlClick} urls={urls} />\r\n\r\n        <Link to=\"/homepage\">\r\n          <button type=\"button\" className=\"btn1 btn-success\">\r\n            Back to homepage\r\n          </button>\r\n        </Link>\r\n        <Link to=\"/\">\r\n          <button type=\"button\" className=\"btn2 btn-danger\">\r\n            Logout\r\n          </button>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Shorten;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}